<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Theme.Varisankya" parent="Theme.Material3.DayNight.NoActionBar">
        <!-- Unified Background Color -->
        <item name="android:windowBackground">?attr/colorSurface</item>
        
        <!-- Make status bar transparent -->
        <item name="android:statusBarColor">@android:color/transparent</item>
        <!-- Ensure status bar icons are dark in light mode -->
        <item name="android:windowLightStatusBar">true</item>

        <!-- ============================================== -->
        <!-- DYNAMIC COLORS ENABLED                        -->
        <!-- ============================================== -->
        
        <!-- No hardcoded color overrides needed. 
             DynamicColors.applyToActivitiesIfAvailable() will automatically 
             inject the system palette at runtime. -->
        
        <!-- M3E Mapping: Base surface is ContainerLow -->
        <item name="android:windowBackground">?attr/colorSurfaceContainerLow</item>
        <item name="android:statusBarColor">?attr/colorSurfaceContainerLow</item>





        <!-- Default Font Family (Both namespaces for compatibility) -->
        <item name="android:fontFamily">@font/google_sans_flex</item>
        <item name="fontFamily">@font/google_sans_flex</item>

        <!-- Typography Overrides (Link to custom styles in type.xml) -->
        <item name="textAppearanceDisplayLarge">@style/TextAppearance.App.DisplayLarge</item>
        <item name="textAppearanceDisplayMedium">@style/TextAppearance.App.DisplayMedium</item>
        <item name="textAppearanceDisplaySmall">@style/TextAppearance.App.DisplaySmall</item>
        <item name="textAppearanceHeadlineLarge">@style/TextAppearance.App.HeadlineLarge</item>
        <item name="textAppearanceHeadlineMedium">@style/TextAppearance.App.HeadlineMedium</item>
        <item name="textAppearanceHeadlineSmall">@style/TextAppearance.App.HeadlineSmall</item>
        <item name="textAppearanceTitleLarge">@style/TextAppearance.App.TitleLarge</item>
        <item name="textAppearanceTitleMedium">@style/TextAppearance.App.TitleMedium</item>
        <item name="textAppearanceTitleSmall">@style/TextAppearance.App.TitleSmall</item>
        <item name="textAppearanceBodyLarge">@style/TextAppearance.App.BodyLarge</item>
        <item name="textAppearanceBodyMedium">@style/TextAppearance.App.BodyMedium</item>
        <item name="textAppearanceBodySmall">@style/TextAppearance.App.BodySmall</item>
        <item name="textAppearanceLabelLarge">@style/TextAppearance.App.LabelLarge</item>
        <item name="textAppearanceLabelMedium">@style/TextAppearance.App.LabelMedium</item>
        <item name="textAppearanceLabelSmall">@style/TextAppearance.App.LabelSmall</item>
        
        <!-- SearchView styling to remove dividers -->
        <item name="searchViewStyle">@style/Widget.App.SearchView</item>

        <!-- Apply unified header style -->
        <item name="appBarLayoutStyle">@style/Widget.App.AppBarLayout</item>
        <item name="toolbarStyle">@style/Widget.App.Toolbar</item>
        
        <!-- Semantic M3 Contrast Tokens Removed (Pure M3E Compliance) -->

        <!-- Global Chip Style -->
        <item name="chipStyle">@style/Widget.App.Chip</item>
        
        <!-- Global Bottom Sheet Style -->
        <item name="bottomSheetStyle">@style/Widget.App.BottomSheet.Modal</item>
    </style>

    <!-- System Font Theme -->
    <style name="Theme.Varisankya.SystemFont" parent="Theme.Varisankya">
        <!-- Reset Font Family -->
        <item name="android:fontFamily">@null</item>
        <item name="fontFamily">@null</item>

        <!-- Reset Typography to Material Defaults -->
        <item name="textAppearanceDisplayLarge">@style/TextAppearance.Material3.DisplayLarge</item>
        <item name="textAppearanceDisplayMedium">@style/TextAppearance.Material3.DisplayMedium</item>
        <item name="textAppearanceDisplaySmall">@style/TextAppearance.Material3.DisplaySmall</item>
        <item name="textAppearanceHeadlineLarge">@style/TextAppearance.Material3.HeadlineLarge</item>
        <item name="textAppearanceHeadlineMedium">@style/TextAppearance.Material3.HeadlineMedium</item>
        <item name="textAppearanceHeadlineSmall">@style/TextAppearance.Material3.HeadlineSmall</item>
        <item name="textAppearanceTitleLarge">@style/TextAppearance.Material3.TitleLarge</item>
        <item name="textAppearanceTitleMedium">@style/TextAppearance.Material3.TitleMedium</item>
        <item name="textAppearanceTitleSmall">@style/TextAppearance.Material3.TitleSmall</item>
        <item name="textAppearanceBodyLarge">@style/TextAppearance.Material3.BodyLarge</item>
        <item name="textAppearanceBodyMedium">@style/TextAppearance.Material3.BodyMedium</item>
        <item name="textAppearanceBodySmall">@style/TextAppearance.Material3.BodySmall</item>
        <item name="textAppearanceLabelLarge">@style/TextAppearance.Material3.LabelLarge</item>
        <item name="textAppearanceLabelMedium">@style/TextAppearance.Material3.LabelMedium</item>
        <item name="textAppearanceLabelSmall">@style/TextAppearance.Material3.LabelSmall</item>
    </style>

    <style name="Widget.App.AppBarLayout" parent="Widget.Material3.AppBarLayout">
        <item name="android:background">?attr/colorSurface</item>
    </style>

    <style name="Widget.App.Toolbar" parent="Widget.Material3.Toolbar">
        <item name="android:background">?attr/colorSurface</item>
    </style>

    <style name="Widget.App.SearchView" parent="Widget.Material3.SearchView">
        <item name="dividerColor">@android:color/transparent</item>
    </style>
    
    <style name="Widget.App.BottomSheet.Modal" parent="Widget.Material3.BottomSheet.Modal">
        <item name="shapeAppearance">@style/ShapeAppearance.App.BottomSheet</item>
        <item name="backgroundTint">?attr/colorSurface</item>
    </style>

    <!-- Splash Screen Theme -->
    <style name="Theme.App.Starting" parent="Theme.SplashScreen">
        <!-- Removed hardcoded background color to support dynamic/system defaults -->
        <!-- <item name="windowSplashScreenBackground">#FCFCFC</item> -->
        <item name="windowSplashScreenAnimatedIcon">@drawable/ic_splash_icon_centered</item>
        <item name="postSplashScreenTheme">@style/Theme.Varisankya</item>
    </style>

    <!-- Custom Shape Appearance for fully rounded corners (Profile, Buttons) -->
    <style name="App.ShapeAppearanceOverlay.Rounded" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">16dp</item>
    </style>
    
    <!-- M3 Standard Input Field Shape (4dp) -->
    <style name="App.ShapeAppearanceOverlay.TextField" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">4dp</item>
    </style>
    
    <!-- M3E Bottom Sheet Shape (28dp Top Corners) -->
    <style name="ShapeAppearance.App.BottomSheet" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSizeTopLeft">32dp</item>
        <item name="cornerSizeTopRight">32dp</item>
        <item name="cornerSizeBottomLeft">0dp</item>
        <item name="cornerSizeBottomRight">0dp</item>
    </style>


    <style name="App.ShapeAppearanceOverlay.Pill" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">50%</item>
    </style>

    <!-- Style for rounded text input fields -->
    <style name="App.TextInputLayout.Rounded" parent="Widget.Material3.TextInputLayout.OutlinedBox">
        <item name="shapeAppearanceOverlay">@style/App.ShapeAppearanceOverlay.TextField</item>
    </style>

    <!-- Style for rounded dropdown menus -->
    <style name="App.TextInputLayout.Rounded.ExposedDropdownMenu" parent="Widget.Material3.TextInputLayout.OutlinedBox.ExposedDropdownMenu">
        <item name="shapeAppearanceOverlay">@style/App.ShapeAppearanceOverlay.TextField</item>
    </style>

    <!-- Base style for the button toggle group -->
    <style name="App.ButtonToggleGroup" parent="Widget.MaterialComponents.MaterialButtonToggleGroup">
        <item name="android:layout_width">match_parent</item>
        <item name="android:layout_height">wrap_content</item>
    </style>

    <!-- Style for the rounded button toggle group -->
    <style name="App.ButtonToggleGroup.Rounded" parent="App.ButtonToggleGroup">
        <item name="shapeAppearanceOverlay">@style/App.ShapeAppearanceOverlay.Rounded</item>
    </style>

    <!-- Style for Destructive/Delete Buttons (Outlined Error) -->
    <style name="App.Button.Destructive" parent="Widget.Material3.Button.OutlinedButton">
        <item name="android:textColor">?attr/colorError</item>
        <item name="strokeColor">?attr/colorOutline</item>
    </style>

    <!-- Destructive Icon Button (Outlined circle with error tint) -->
    <style name="App.Button.Destructive.Icon" parent="Widget.Material3.Button.OutlinedButton.Icon">
        <item name="iconTint">?attr/colorError</item>
        <item name="strokeColor">?attr/colorOutline</item>
        <item name="android:padding">0dp</item>
        <item name="android:insetTop">0dp</item>
        <item name="android:insetBottom">0dp</item>
        <item name="shapeAppearanceOverlay">@style/ShapeAppearance.Material3.Corner.Full</item>
    </style>

    <!-- Style for Mark Paid Buttons (Standard Tonal - uses Secondary colors) -->
    <style name="App.Button.Success" parent="Widget.Material3.Button.TonalButton">
        <!-- Uses default secondary/tertiary colors -->
    </style>
    
    <!-- MaterialSwitch Style with Tertiary Color (matches chips) -->
    <style name="Widget.App.Switch" parent="Widget.Material3.CompoundButton.MaterialSwitch">
        <!-- Reverting to standard M3 colors -->
    </style>
    
    <!-- Filled Button with Tertiary Color -->
    <style name="Widget.App.Button.Tertiary" parent="Widget.Material3.Button">
        <item name="backgroundTint">?attr/colorPrimary</item>
        <item name="android:textColor">?attr/colorOnPrimary</item>
    </style>

    <!-- Slider Style with Dynamic Colors (Tier 2 - Tertiary) -->
    <style name="Widget.App.Slider" parent="Widget.Material3.Slider">
        <item name="labelStyle">@style/Widget.App.Slider.Tooltip</item>
    </style>

    <style name="Widget.App.Slider.Tooltip" parent="Widget.Material3.Tooltip">
        <item name="backgroundTint">?attr/colorOnSurface</item>
        <item name="android:textColor">?attr/colorSurface</item>
    </style>

    <!-- Unified Chip Style - SWAPPED: Selected = Dark bg, Light text -->
    <style name="Widget.App.Chip" parent="Widget.Material3.Chip.Filter">
        <!-- Background: Unselected = Light, Selected = Dark -->
        <item name="chipBackgroundColor">@color/chip_background_color</item>
        <!-- Text: Unselected = Dark, Selected = Light -->
        <item name="android:textColor">@color/chip_text_color</item>
        <!-- Check Icon: Same as text color -->
        <item name="checkedIconTint">@color/chip_text_color</item>
        <item name="chipIconTint">@color/chip_text_color</item>
        <!-- Subtle Border for unselected chips -->
        <item name="chipStrokeColor">@color/chip_stroke_color</item>
        <item name="chipStrokeWidth">0.8dp</item>


        <!-- Default Shape (Unselected) -->
        <item name="shapeAppearance">@style/ShapeAppearance.App.Chip.Unselected</item>
    </style>

    <style name="ShapeAppearance.App.Chip.Selected" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">12dp</item>
    </style>


    <style name="ShapeAppearance.App.Chip.Unselected" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">100dp</item>
    </style>


    <!-- Grouped List Item Shapes -->
    <style name="ShapeAppearance.App.FirstItem" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSizeTopLeft">@dimen/card_corner_radius_large</item>
        <item name="cornerSizeTopRight">@dimen/card_corner_radius_large</item>
        <item name="cornerSizeBottomLeft">@dimen/card_corner_radius_small</item>
        <item name="cornerSizeBottomRight">@dimen/card_corner_radius_small</item>
    </style>

    <style name="ShapeAppearance.App.MiddleItem" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">@dimen/card_corner_radius_small</item>
    </style>

    <style name="ShapeAppearance.App.LastItem" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSizeTopLeft">@dimen/card_corner_radius_small</item>
        <item name="cornerSizeTopRight">@dimen/card_corner_radius_small</item>
        <item name="cornerSizeBottomLeft">@dimen/card_corner_radius_large</item>
        <item name="cornerSizeBottomRight">@dimen/card_corner_radius_large</item>
    </style>

    <style name="ShapeAppearance.App.SingleItem" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">@dimen/card_corner_radius_large</item>
    </style>

</resources>