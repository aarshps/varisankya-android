<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Theme.Varisankya" parent="Theme.Material3.DayNight.NoActionBar">
        <!-- Unified Background Color -->
        <item name="android:windowBackground">?attr/colorSurface</item>
        
        <!-- Make status bar transparent -->
        <item name="android:statusBarColor">@android:color/transparent</item>
        <!-- Ensure status bar icons are dark in light mode -->
        <item name="android:windowLightStatusBar">true</item>

        <!-- Default Font Family (Both namespaces for compatibility) -->
        <item name="android:fontFamily">@font/google_sans_flex</item>
        <item name="fontFamily">@font/google_sans_flex</item>

        <!-- Typography Overrides (Link to custom styles in type.xml) -->
        <item name="textAppearanceDisplayLarge">@style/TextAppearance.App.DisplayLarge</item>
        <item name="textAppearanceDisplayMedium">@style/TextAppearance.App.DisplayMedium</item>
        <item name="textAppearanceDisplaySmall">@style/TextAppearance.App.DisplaySmall</item>
        <item name="textAppearanceHeadlineLarge">@style/TextAppearance.App.HeadlineLarge</item>
        <item name="textAppearanceHeadlineMedium">@style/TextAppearance.App.HeadlineMedium</item>
        <item name="textAppearanceHeadlineSmall">@style/TextAppearance.App.HeadlineSmall</item>
        <item name="textAppearanceTitleLarge">@style/TextAppearance.App.TitleLarge</item>
        <item name="textAppearanceTitleMedium">@style/TextAppearance.App.TitleMedium</item>
        <item name="textAppearanceTitleSmall">@style/TextAppearance.App.TitleSmall</item>
        <item name="textAppearanceBodyLarge">@style/TextAppearance.App.BodyLarge</item>
        <item name="textAppearanceBodyMedium">@style/TextAppearance.App.BodyMedium</item>
        <item name="textAppearanceBodySmall">@style/TextAppearance.App.BodySmall</item>
        <item name="textAppearanceLabelLarge">@style/TextAppearance.App.LabelLarge</item>
        <item name="textAppearanceLabelMedium">@style/TextAppearance.App.LabelMedium</item>
        <item name="textAppearanceLabelSmall">@style/TextAppearance.App.LabelSmall</item>
        
        <!-- SearchView styling to remove dividers -->
        <item name="searchViewStyle">@style/Widget.App.SearchView</item>

        <!-- Apply unified header style -->
        <item name="appBarLayoutStyle">@style/Widget.App.AppBarLayout</item>
        <item name="toolbarStyle">@style/Widget.App.Toolbar</item>
        
        <!-- Semantic M3 Contrast Tokens (Authentic Tiered Mapping) -->
        <item name="vibrant">?attr/colorPrimary</item>
        <item name="vibrantOn">?attr/colorOnPrimary</item>
        
        <item name="alert">?attr/colorTertiary</item>
        <item name="alertOn">?attr/colorOnTertiary</item>
        
        <item name="medium">?attr/colorSecondaryContainer</item>
        <item name="mediumOn">?attr/colorOnSecondaryContainer</item>
        
        <item name="low">?attr/colorSurfaceVariant</item>
        <item name="lowOn">?attr/colorOnSurfaceVariant</item>

        <item name="neutral">?attr/colorOutlineVariant</item>

        <!-- Global Chip Style -->
        <item name="chipStyle">@style/Widget.App.Chip</item>
    </style>

    <!-- System Font Theme -->
    <style name="Theme.Varisankya.SystemFont" parent="Theme.Varisankya">
        <!-- Reset Font Family -->
        <item name="android:fontFamily">@null</item>
        <item name="fontFamily">@null</item>

        <!-- Reset Typography to Material Defaults -->
        <item name="textAppearanceDisplayLarge">@style/TextAppearance.Material3.DisplayLarge</item>
        <item name="textAppearanceDisplayMedium">@style/TextAppearance.Material3.DisplayMedium</item>
        <item name="textAppearanceDisplaySmall">@style/TextAppearance.Material3.DisplaySmall</item>
        <item name="textAppearanceHeadlineLarge">@style/TextAppearance.Material3.HeadlineLarge</item>
        <item name="textAppearanceHeadlineMedium">@style/TextAppearance.Material3.HeadlineMedium</item>
        <item name="textAppearanceHeadlineSmall">@style/TextAppearance.Material3.HeadlineSmall</item>
        <item name="textAppearanceTitleLarge">@style/TextAppearance.Material3.TitleLarge</item>
        <item name="textAppearanceTitleMedium">@style/TextAppearance.Material3.TitleMedium</item>
        <item name="textAppearanceTitleSmall">@style/TextAppearance.Material3.TitleSmall</item>
        <item name="textAppearanceBodyLarge">@style/TextAppearance.Material3.BodyLarge</item>
        <item name="textAppearanceBodyMedium">@style/TextAppearance.Material3.BodyMedium</item>
        <item name="textAppearanceBodySmall">@style/TextAppearance.Material3.BodySmall</item>
        <item name="textAppearanceLabelLarge">@style/TextAppearance.Material3.LabelLarge</item>
        <item name="textAppearanceLabelMedium">@style/TextAppearance.Material3.LabelMedium</item>
        <item name="textAppearanceLabelSmall">@style/TextAppearance.Material3.LabelSmall</item>
    </style>

    <style name="Widget.App.AppBarLayout" parent="Widget.Material3.AppBarLayout">
        <item name="android:background">?attr/colorSurface</item>
    </style>

    <style name="Widget.App.Toolbar" parent="Widget.Material3.Toolbar">
        <item name="android:background">?attr/colorSurface</item>
    </style>

    <style name="Widget.App.SearchView" parent="Widget.Material3.SearchView">
        <item name="dividerColor">@android:color/transparent</item>
    </style>

    <!-- Splash Screen Theme -->
    <style name="Theme.App.Starting" parent="Theme.SplashScreen">
        <!-- Removed hardcoded background color to support dynamic/system defaults -->
        <!-- <item name="windowSplashScreenBackground">#FCFCFC</item> -->
        <item name="windowSplashScreenAnimatedIcon">@drawable/ic_splash_icon_centered</item>
        <item name="postSplashScreenTheme">@style/Theme.Varisankya</item>
    </style>

    <!-- Custom Shape Appearance for fully rounded corners -->
    <style name="App.ShapeAppearanceOverlay.Rounded" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">16dp</item>
    </style>

    <style name="App.ShapeAppearanceOverlay.Pill" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">50%</item>
    </style>

    <!-- Style for rounded text input fields -->
    <style name="App.TextInputLayout.Rounded" parent="Widget.Material3.TextInputLayout.OutlinedBox">
        <item name="shapeAppearanceOverlay">@style/App.ShapeAppearanceOverlay.Rounded</item>
        <item name="boxStrokeColor">@color/outline_stroke_app</item>
    </style>

    <!-- Style for rounded dropdown menus -->
    <style name="App.TextInputLayout.Rounded.ExposedDropdownMenu" parent="Widget.Material3.TextInputLayout.OutlinedBox.ExposedDropdownMenu">
        <item name="shapeAppearanceOverlay">@style/App.ShapeAppearanceOverlay.Rounded</item>
        <item name="boxStrokeColor">@color/outline_stroke_app</item>
    </style>

    <!-- Base style for the button toggle group -->
    <style name="App.ButtonToggleGroup" parent="Widget.MaterialComponents.MaterialButtonToggleGroup">
        <item name="android:layout_width">match_parent</item>
        <item name="android:layout_height">wrap_content</item>
    </style>

    <!-- Style for the rounded button toggle group -->
    <style name="App.ButtonToggleGroup.Rounded" parent="App.ButtonToggleGroup">
        <item name="shapeAppearanceOverlay">@style/App.ShapeAppearanceOverlay.Rounded</item>
    </style>

    <!-- Style for Destructive/Delete Buttons (Outlined Error) -->
    <style name="App.Button.Destructive" parent="Widget.Material3.Button.OutlinedButton">
        <item name="android:textColor">?attr/colorError</item>
        <item name="strokeColor">@color/outline_stroke_app</item>
        <item name="rippleColor">?attr/colorError</item>
    </style>

    <!-- Style for Mark Paid Buttons (Standard Tonal - uses Secondary colors) -->
    <style name="App.Button.Success" parent="Widget.Material3.Button.TonalButton">
        <!-- Uses default secondary/tertiary colors -->
    </style>
    
    <!-- MaterialSwitch Style with Tertiary Color (matches chips) -->
    <style name="Widget.App.Switch" parent="Widget.Material3.CompoundButton.MaterialSwitch">
        <item name="thumbTint">@color/selector_switch_thumb</item>
        <item name="trackTint">@color/selector_switch_track</item>
    </style>
    
    <!-- Filled Button with Tertiary Color -->
    <style name="Widget.App.Button.Tertiary" parent="Widget.Material3.Button">
        <item name="backgroundTint">?attr/colorTertiary</item>
        <item name="android:textColor">?attr/colorOnTertiary</item>
    </style>

    <!-- Slider Style with Dynamic Colors (Tier 2 - Tertiary) -->
    <style name="Widget.App.Slider" parent="Widget.Material3.Slider">
        <item name="labelStyle">@style/Widget.App.Slider.Tooltip</item>
        <item name="thumbColor">?attr/colorTertiary</item>
        <item name="trackColorActive">?attr/colorTertiary</item>
    </style>

    <style name="Widget.App.Slider.Tooltip" parent="Widget.Material3.Tooltip">
        <item name="backgroundTint">?attr/colorOnSurface</item>
        <item name="android:textColor">?attr/colorSurface</item>
    </style>

    <!-- Unified Chip Style with Standard Borders and Higher Contrast Background -->
    <style name="Widget.App.Chip" parent="Widget.Material3.Chip.Filter">
        <item name="chipStrokeColor">@color/chip_stroke_app</item>
        <item name="chipStrokeWidth">1dp</item>
        <!-- High Contrast: 'low' (Grey) for unselected, 'alert' for selected -->
        <item name="chipBackgroundColor">@color/selector_chip_background_high_contrast</item>
        <item name="android:textColor">@color/selector_chip_text_high_contrast</item>
        <item name="chipIconTint">@color/selector_chip_text_high_contrast</item>
    </style>

    <!-- Grouped List Item Shapes -->
    <style name="ShapeAppearance.App.FirstItem" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSizeTopLeft">@dimen/card_corner_radius_large</item>
        <item name="cornerSizeTopRight">@dimen/card_corner_radius_large</item>
        <item name="cornerSizeBottomLeft">@dimen/card_corner_radius_small</item>
        <item name="cornerSizeBottomRight">@dimen/card_corner_radius_small</item>
    </style>

    <style name="ShapeAppearance.App.MiddleItem" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">@dimen/card_corner_radius_small</item>
    </style>

    <style name="ShapeAppearance.App.LastItem" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSizeTopLeft">@dimen/card_corner_radius_small</item>
        <item name="cornerSizeTopRight">@dimen/card_corner_radius_small</item>
        <item name="cornerSizeBottomLeft">@dimen/card_corner_radius_large</item>
        <item name="cornerSizeBottomRight">@dimen/card_corner_radius_large</item>
    </style>

    <style name="ShapeAppearance.App.SingleItem" parent="">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">@dimen/card_corner_radius_large</item>
    </style>

</resources>